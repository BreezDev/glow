<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Glow Atelier | Farah Bazzi, NP &amp; Malak Sabbagh, NP</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600&family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <header class="hero">
      <div class="hero__aura"></div>
      <div class="hero__content">
        <p class="eyebrow">Glow Atelier • Dearborn, Michigan</p>
        <h1>Modern injectables guided by nurse practitioners</h1>
        <p>
          Farah Bazzi, NP and Malak Sabbagh, NP compose luminous, confident features with balanced filler,
          wrinkle-softening therapies, and curated skin revivals. Every reservation, deposit, and confirmation
          happens privately on this page so guests never leave the Glow Atelier environment.
        </p>
        <div class="hero__signatures">
          <div>
            <span class="signature">Farah Bazzi</span>
            <p>Nurse Practitioner • Facial balancing</p>
          </div>
          <div>
            <span class="signature">Malak Sabbagh</span>
            <p>Nurse Practitioner • Subtle refinements</p>
          </div>
        </div>
        <div class="cta-row">
          <a class="btn btn--primary" href="#booking">Reserve online</a>
          <a class="btn btn--ghost" href="tel:+13138883057">Call (313) 888-3057</a>
        </div>
        <div class="hero__details">
          <p>4700 Greenfield Rd Suite 2F • Dearborn, MI 48126</p>
          <p>Private suites • Concierge booking • Same-page payment</p>
        </div>
      </div>
      <div class="hero__card">
        <div class="hero__card-inner">
          <p class="eyebrow">Integrated care</p>
          <h3>Book • Confirm • Glow</h3>
          <ul>
            <li>Secure deposit without redirecting</li>
            <li>Automatic confirmations + reminders</li>
            <li>Personalized aftercare delivered digitally</li>
          </ul>
          <p class="card-note">All communication is handled through our encrypted concierge channel.</p>
        </div>
      </div>
    </header>

    <main>
      <section class="section">
        <div class="section__header">
          <p class="eyebrow">Experience the atelier</p>
          <h2>Every detail is orchestrated in-house</h2>
          <p>
            From intake to aftercare, Glow Atelier keeps your information within our private system. Guests can
            request dates, place deposits, and receive confirmations in one sitting, and discreet inbox updates
            arrive instantly once your booking is accepted.
          </p>
        </div>
        <div class="experience-grid">
          <article>
            <h3>Concierge booking</h3>
            <p>Choose your date and provider; our team aligns availability and sends luxe reminders immediately.</p>
          </article>
          <article>
            <h3>Seamless payments</h3>
            <p>Deposits process with bank-grade encryption directly on this page&mdash;no outside portals, ever.</p>
          </article>
          <article>
            <h3>Automatic communication</h3>
            <p>Consent packets, preparation guidance, and aftercare touchpoints land in your inbox moments later.</p>
          </article>
        </div>
      </section>

      <section id="treatments" class="section">
        <div class="section__header">
          <p class="eyebrow">Treatment offerings</p>
          <h2>Crafted to suit your canvas</h2>
          <p>Explore a curated menu of injectables, PRP rituals, and resurfacing. Each visit is tailored to you.</p>
        </div>
        <div class="tabs">
          <button class="tab is-active" data-target="injectables">Injectables</button>
          <button class="tab" data-target="prp">PRP Rituals</button>
          <button class="tab" data-target="peels">Skin Lab</button>
        </div>
        <div class="grid" id="injectables">
          {% for item in injectables %}
          <article class="card">
            <div>
              <p class="card__title">{{ item.name }}</p>
              <p class="card__subtitle">{{ item.details }}</p>
            </div>
            <div class="card__meta">
              <span>{{ item.price }}</span>
              <span>{{ item.duration }}</span>
            </div>
          </article>
          {% endfor %}
        </div>
        <div class="grid is-hidden" id="prp">
          {% for item in prp %}
          <article class="card">
            <div>
              <p class="card__title">{{ item.name }}</p>
              <p class="card__subtitle">{{ item.details }}</p>
            </div>
            <div class="card__meta">
              <span>{{ item.price }}</span>
              <span>{{ item.duration }}</span>
            </div>
          </article>
          {% endfor %}
        </div>
        <div class="grid is-hidden" id="peels">
          {% for item in peels %}
          <article class="card">
            <div>
              <p class="card__title">{{ item.name }}</p>
              <p class="card__subtitle">{{ item.details }}</p>
            </div>
            <div class="card__meta">
              <span>{{ item.price }}</span>
              <span>{{ item.duration }}</span>
            </div>
          </article>
          {% endfor %}
        </div>
      </section>

      <section id="providers" class="panel panel--duo">
        <article>
          <p class="eyebrow">Clinical Director</p>
          <h2>Farah Bazzi, NP</h2>
          <p>
            Farah is renowned for intentional facial balancing, harmonizing structure and softness with precise
            filler placement, bio-stimulators, and hyper-personalized dosing.
          </p>
          <ul>
            <li>Advanced contouring + midface restoration</li>
            <li>Strategic neurotoxin mapping</li>
            <li>Layered skin quality protocols</li>
          </ul>
        </article>
        <article>
          <p class="eyebrow">Aesthetic Partner</p>
          <h2>Malak Sabbagh, NP</h2>
          <p>
            Malak delivers effortless refinement&mdash;from velvet lip stories to PRP revivals&mdash;with a calm,
            detail-oriented chairside manner and concierge follow-up.
          </p>
          <ul>
            <li>Lip flips, filler, and touch-ups</li>
            <li>PRP hair + under-eye restoration</li>
            <li>Smooth, discreet maintenance visits</li>
          </ul>
        </article>
      </section>

      <section class="section timeline">
        <div class="section__header">
          <p class="eyebrow">Booking flow</p>
          <h2>Four polished steps to your appointment</h2>
        </div>
        <ol>
          <li>
            <h3>Submit request</h3>
            <p>Choose your preferred provider and share desired dates during checkout.</p>
          </li>
          <li>
            <h3>Place deposit</h3>
            <p>Complete a ${{ deposit_amount }} deposit here; payment encrypts instantly and never leaves the site.</p>
          </li>
          <li>
            <h3>Instant confirmation</h3>
            <p>We send intake forms, consent, and arrival details to your inbox without exposing backend services.</p>
          </li>
          <li>
            <h3>Arrive &amp; glow</h3>
            <p>Enjoy a tailored visit with private suites, warm welcomes, and on-time follow-up communications.</p>
          </li>
        </ol>
      </section>

      <section id="booking" class="panel panel--cta">
        <div>
          <p class="eyebrow">Reserve now</p>
          <h2>Concierge scheduling at Glow Atelier</h2>
          <p>
            Request a time that suits your calendar, add any notes, and place your deposit without leaving this
            page. Our concierge replies within one business day with your finalized itinerary and preparatory
            guidance.
          </p>
          <div class="cta-row">
            <a class="btn btn--primary" href="mailto:concierge@glowatelier.com">Email concierge</a>
            <a class="btn btn--ghost" href="tel:+13138883057">Call (313) 888-3057</a>
          </div>
          <div class="consent">
            <p>Privacy-first: no third-party portals, optional NDA, and bespoke aftercare delivered directly.</p>
          </div>
        </div>
        <div class="card glass payment-card">
          <h3>Secure deposit</h3>
          <p>Complete the form below to finalize your request; funds apply toward your treatment day.</p>
          <form
            id="deposit-form"
            data-deposit="{{ deposit_amount * 100 }}"
            data-square-app="{{ square_application_id }}"
            data-square-location="{{ square_location_id }}"
          >
            <label for="guest-name">Guest name</label>
            <input id="guest-name" name="guest-name" type="text" placeholder="Full name" required />
            <label for="guest-email">Email</label>
            <input id="guest-email" name="guest-email" type="email" placeholder="you@example.com" required />
            <label>Card details</label>
            <div id="card-element" class="card-element"></div>
            <button class="btn btn--primary" id="card-button" type="submit">Pay ${{ deposit_amount }} deposit</button>
            <p id="card-errors" role="alert"></p>
            <p class="microcopy">You will receive confirmation + aftercare guidance immediately after payment.</p>
          </form>
        </div>
      </section>
    </main>

    <footer>
      <div>
        <p>Glow Atelier • 4700 Greenfield Rd Suite 2F, Dearborn, MI 48126</p>
        <p><a href="tel:+13138883057">(313) 888-3057</a> • <a href="mailto:concierge@glowatelier.com">concierge@glowatelier.com</a></p>
        <p>All bookings, deposits, and communications are handled on-site for a seamless guest experience.</p>
      </div>
    </footer>

    <script src="{{ square_js_src }}" defer></script>
    <script>
      const tabs = document.querySelectorAll('.tab');
      const grids = {
        injectables: document.getElementById('injectables'),
        prp: document.getElementById('prp'),
        peels: document.getElementById('peels')
      };

      tabs.forEach((tab) => {
        tab.addEventListener('click', () => {
          tabs.forEach((t) => t.classList.remove('is-active'));
          tab.classList.add('is-active');
          Object.values(grids).forEach((grid) => grid.classList.add('is-hidden'));
          grids[tab.dataset.target].classList.remove('is-hidden');
        });
      });

      const initializeSquare = async () => {
        const depositForm = document.getElementById('deposit-form');
        if (!depositForm || !window.Square) {
          return;
        }

        const cardErrors = document.getElementById('card-errors');
        const appId = depositForm.dataset.squareApp;
        const locationId = depositForm.dataset.squareLocation;
        const depositAmount = parseInt(depositForm.dataset.deposit, 10);

        if (!appId || !locationId) {
          cardErrors.textContent = 'Payment configuration is missing.';
          return;
        }

        let payments;
        try {
          payments = window.Square.payments(appId, locationId);
        } catch (error) {
          cardErrors.textContent = error.message;
          return;
        }

        let card;
        try {
          card = await payments.card();
          await card.attach('#card-element');
        } catch (error) {
          cardErrors.textContent = error.message;
          return;
        }

        depositForm.addEventListener('submit', async (event) => {
          event.preventDefault();
          cardErrors.textContent = '';

          const name = document.getElementById('guest-name').value;
          const email = document.getElementById('guest-email').value;

          try {
            const result = await card.tokenize();
            if (result.status !== 'OK') {
              throw new Error(result.errors?.[0]?.message || 'Card could not be tokenized.');
            }

            const response = await fetch('/process-payment', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                token: result.token,
                amount: depositAmount,
                name,
                email
              })
            });

            const data = await response.json();
            if (!response.ok) {
              throw new Error(data.error || 'Unable to finalize payment.');
            }

            cardErrors.textContent = 'Deposit received. Your confirmation will arrive shortly.';
          } catch (error) {
            cardErrors.textContent = error.message;
          }
        });
      };

      document.addEventListener('DOMContentLoaded', () => {
        initializeSquare();
      });
    </script>
  </body>
</html>
